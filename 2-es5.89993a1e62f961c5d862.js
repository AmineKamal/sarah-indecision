function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{mclP:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var a=n("mrSG");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.toString();return n.length>t?n:new Array(t).fill(0).map((function(e){return"0"})).join("")+n}var i,o=n("fXoL"),s=n("TEn/"),c=n("3Pt+"),l=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"add",value:function(){this.title&&this.date&&this.hour&&console.log(this.title,new Date(this.date),new Date(this.hour))}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=o.Db({type:i,selectors:[["app-new-data"]],inputs:{addData:"addData",back:"back",title:"title",date:"date",hour:"hour"},decls:14,vars:3,consts:[["color","light"],["placeholder","Titre",3,"ngModel","ngModelChange"],["value","1990-02-19","placeholder","Select Date",3,"ngModel","ngModelChange"],["display-format","h:mm A","picker-format","h:mm A","value","1990-02-19T00:00Z",3,"ngModel","ngModelChange"],["expand","block",3,"click"]],template:function(e,t){1&e&&(o.Ob(0,"ion-content",0),o.Ob(1,"ion-list",0),o.Ob(2,"ion-item"),o.Ob(3,"ion-input",1),o.Wb("ngModelChange",(function(e){return t.title=e})),o.Nb(),o.Nb(),o.Ob(4,"ion-item"),o.Ob(5,"ion-label"),o.kc(6,"Date"),o.Nb(),o.Ob(7,"ion-datetime",2),o.Wb("ngModelChange",(function(e){return t.date=e})),o.Nb(),o.Nb(),o.Ob(8,"ion-item"),o.Ob(9,"ion-label"),o.kc(10,"Heure"),o.Nb(),o.Ob(11,"ion-datetime",3),o.Wb("ngModelChange",(function(e){return t.hour=e})),o.Nb(),o.Nb(),o.Ob(12,"ion-button",4),o.Wb("click",(function(){return t.add()})),o.kc(13,"Ajouter"),o.Nb(),o.Nb(),o.Nb()),2&e&&(o.zb(3),o.bc("ngModel",t.title),o.zb(4),o.bc("ngModel",t.date),o.zb(4),o.bc("ngModel",t.hour))},directives:[s.i,s.v,s.q,s.p,s.F,c.d,c.e,s.u,s.j,s.E,s.b],styles:[""]}),i),u=function(e){var t={target:"confetti-holder",max:80,size:1,animate:!0,respawn:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,start_from_edge:!1,width:window.innerWidth,height:window.innerHeight};if(e&&(e.target&&(t.target=e.target),e.max&&(t.max=e.max),e.size&&(t.size=e.size),null!=e.animate&&(t.animate=e.animate),null!=e.respawn&&(t.respawn=e.respawn),e.props&&(t.props=e.props),e.colors&&(t.colors=e.colors),e.clock&&(t.clock=e.clock),null!=e.start_from_edge&&(t.start_from_edge=e.start_from_edge),e.width&&(t.width=e.width),e.height&&(t.height=e.height),null!=e.rotate&&(t.rotate=e.rotate)),"object"!=typeof t.target&&"string"!=typeof t.target)throw new TypeError("The target parameter should be a node or string");if("object"==typeof t.target&&(null===t.target||!t.target instanceof HTMLCanvasElement)||"string"==typeof t.target&&(null===document.getElementById(t.target)||!document.getElementById(t.target)instanceof HTMLCanvasElement))throw new ReferenceError("The target element does not exist or is not a canvas element");var n="object"==typeof t.target?t.target:document.getElementById(t.target),a=n.getContext("2d"),r=[];function i(e,t){e||(e=1);var n=Math.random()*e;return t?Math.floor(n):n}var o=t.props.reduce((function(e,t){return e+(t.weight||1)}),0);function s(e){if(e)switch(a.fillStyle=a.strokeStyle="rgba("+e.color+", "+(e.radius<=3?.4:.8)+")",a.beginPath(),e.prop){case"circle":a.moveTo(e.x,e.y),a.arc(e.x,e.y,e.radius*t.size,0,2*Math.PI,!0),a.fill();break;case"triangle":a.moveTo(e.x,e.y),a.lineTo(e.x+e.angles[0]*t.size,e.y+e.angles[1]*t.size),a.lineTo(e.x+e.angles[2]*t.size,e.y+e.angles[3]*t.size),a.closePath(),a.fill();break;case"line":a.moveTo(e.x,e.y),a.lineTo(e.x+e.line*t.size,e.y+5*e.radius),a.lineWidth=2*t.size,a.stroke();break;case"square":a.save(),a.translate(e.x+15,e.y+5),a.rotate(e.rotation),a.fillRect(-15*t.size,-5*t.size,15*t.size,5*t.size),a.restore();break;case"svg":a.save();var n=new window.Image;n.src=e.src;var r=e.size||15;a.translate(e.x+r/2,e.y+r/2),e.rotate&&a.rotate(e.rotation),a.drawImage(n,-r/2*t.size,-r/2*t.size,r*t.size,r*t.size),a.restore()}}var c=function(){t.animate=!1,clearInterval(t.interval),requestAnimationFrame((function(){a.clearRect(0,0,n.width,n.height);var e=n.width;n.width=1,n.width=e}))};return{render:function(){n.width=t.width,n.height=t.height,r=[];for(var e=0;e<t.max;e++)r.push({prop:(l=t.props[function(){for(var e=Math.random()*o,n=0;n<t.props.length;++n){var a=t.props[n].weight||1;if(e<a)return n;e-=a}}()]).type?l.type:l,x:i(t.width),y:t.start_from_edge?t.clock>=0?-10:parseFloat(t.height)+10:i(t.height),src:l.src,radius:i(4)+1,size:l.size,rotate:t.rotate,line:Math.floor(i(65)-30),angles:[i(10,!0)+2,i(10,!0)+2,i(10,!0)+2,i(10,!0)+2],color:t.colors[i(t.colors.length,!0)],rotation:i(360,!0)*Math.PI/180,speed:i(t.clock/7)+t.clock/30});var l;return requestAnimationFrame((function e(){for(var n in a.clearRect(0,0,t.width,t.height),r)s(r[n]);!function(){for(var e=0;e<t.max;e++){var n=r[e];n&&(t.animate&&(n.y+=n.speed),n.rotate&&(n.rotation+=n.speed/35),(n.speed>=0&&n.y>t.height||n.speed<0&&n.y<0)&&(t.respawn?(r[e]=n,r[e].x=i(t.width,!0),r[e].y=n.speed>=0?-10:parseFloat(t.height)):r[e]=void 0))}r.every((function(e){return void 0===e}))&&c()}(),t.animate&&requestAnimationFrame(e)}))},clear:c}},b=n("ofXK");function d(e,t){1&e&&o.Kb(0,"div",17)}function f(e,t){if(1&e&&(o.Ob(0,"div",18),o.Ob(1,"div",19),o.Kb(2,"ion-icon",20),o.Ob(3,"span",21),o.kc(4),o.Nb(),o.Nb(),o.Ob(5,"h2",7),o.kc(6),o.Nb(),o.Nb()),2&e){var n=o.Yb();o.zb(1),o.Bb("animated",n.animate)("css",n.animate),o.zb(3),o.lc(n.current),o.zb(2),o.lc(n.frenchTerms[n._current])}}function m(e,t){if(1&e&&(o.Ob(0,"div"),o.Ob(1,"div",19),o.Kb(2,"ion-icon",26),o.Ob(3,"span",27),o.kc(4),o.Nb(),o.Nb(),o.Ob(5,"h4",28),o.kc(6),o.Nb(),o.Nb()),2&e){var n=o.Yb(),a=n.$implicit,r=n.index,i=o.Yb(2);o.zb(1),o.Bb("animated",i.animate)("css",i.animate),o.zb(3),o.lc(a),o.zb(2),o.lc(i.frenchTerms[i._current][r])}}function h(e,t){if(1&e&&(o.Mb(0,24),o.jc(1,m,7,6,"div",25),o.Lb()),2&e){var n=t.index;o.zb(1),o.bc("ngIf",n<=1)}}function p(e,t){if(1&e){var n=o.Pb();o.Ob(0,"div",22),o.Wb("click",(function(){return o.fc(n),o.Yb().next()})),o.jc(1,h,2,1,"ng-container",23),o.Nb()}if(2&e){var a=o.Yb();o.zb(1),o.bc("ngForOf",a.current)}}function g(e,t){if(1&e){var n=o.Pb();o.Ob(0,"div"),o.Ob(1,"div",30),o.Wb("click",(function(){return o.fc(n),o.Yb(3).next()})),o.Kb(2,"ion-icon",26),o.Ob(3,"span",27),o.kc(4),o.Nb(),o.Nb(),o.Ob(5,"h4",28),o.kc(6),o.Nb(),o.Nb()}if(2&e){var a=o.Yb(),r=a.$implicit,i=a.index,s=o.Yb(2);o.zb(1),o.Bb("animated",s.animate)("css",s.animate),o.zb(3),o.lc(r),o.zb(2),o.lc(s.frenchTerms[s._current][i])}}function y(e,t){if(1&e&&(o.Mb(0,24),o.jc(1,g,7,6,"div",25),o.Lb()),2&e){var n=t.index;o.zb(1),o.bc("ngIf",4===n)}}function v(e,t){if(1&e&&(o.Ob(0,"div",29),o.jc(1,y,2,1,"ng-container",23),o.Nb()),2&e){var n=o.Yb();o.ic("transform",n.animate?"scale(1, 1)":"scale(0,0)"),o.zb(1),o.bc("ngForOf",n.current)}}function k(e,t){if(1&e&&(o.Ob(0,"div"),o.Ob(1,"div",19),o.Kb(2,"ion-icon",26),o.Ob(3,"span",27),o.kc(4),o.Nb(),o.Nb(),o.Ob(5,"h4",28),o.kc(6),o.Nb(),o.Nb()),2&e){var n=o.Yb(),a=n.$implicit,r=n.index,i=o.Yb(2);o.zb(1),o.Bb("animated",i.animate)("css",i.animate),o.zb(3),o.lc(a),o.zb(2),o.lc(i.frenchTerms[i._current][r])}}function w(e,t){if(1&e&&(o.Mb(0,24),o.jc(1,k,7,6,"div",25),o.Lb()),2&e){var n=t.index;o.zb(1),o.bc("ngIf",n>1&&n<4)}}function x(e,t){if(1&e&&(o.Ob(0,"div",31),o.jc(1,w,2,1,"ng-container",23),o.Nb()),2&e){var n=o.Yb();o.zb(1),o.bc("ngForOf",n.current)}}var O,z=((O=function(){function e(t){_classCallCheck(this,e),this.popoverController=t,this.data=[],this.defaultData={title:"Le temps \xe9coul\xe9 depuis la premi\xe8re fois qu'on s'est rencontr\xe9.",epoch:15817212e5},this.keys=["s","min","h","days","weeks","months","years","summary"],this.currentIndex=7,this._current="summary",this.frenchTerms={s:"Secondes",min:"Minutes",h:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Ann\xe9es",summary:["Jours","Heures","Minutes","Secondes","Ann\xe9es"]},this.animate=!1,this.showSummaryYears=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loadData(),this.applydata(),this.date=this._date,this.interval=setInterval((function(){e.date=e._date}),1e3)}},{key:"goBack",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(this.interval),e.next=3,this.back();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"next",value:function(){this.currentIndex=(this.currentIndex+1)%this.keys.length,this._current=this.keys[this.currentIndex]}},{key:"applydata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultData;this.epoch=e.epoch,this.title=e.title}},{key:"add",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:l,cssClass:"date-popover",event:e,translucent:!1,componentProps:{addData:function(e){return r.addData(e)},back:function(){return Object(a.a)(r,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.dismiss();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"addData",value:function(e){this.data.push(e),localStorage.setItem("dateData",JSON.stringify(this.data))}},{key:"loadData",value:function(){var e=localStorage.getItem("dateData");if(e){var t=JSON.parse(e);this.data=t&&Array.isArray(t)?t:[]}else this.data=[]}},{key:"current",get:function(){var e=this.date[this._current];return Array.isArray(e)?e:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"_date",get:function(){var e,t=this,n=(new Date).getTime()-(this.epoch+864e5),a=n/1e3,i=a/60,o=i/60,s=o/24,c=s/7.01923076,l=c/52,b=(e={ms:n,s:a,min:i,h:o,days:s,weeks:c,years:l,months:12*l},Object.keys(e).forEach((function(t){"number"==typeof e[t]&&(e[t]=Math.floor(e[t]))})),e),d=Math.floor(s)%365,f=Math.floor(o)%24,m=Math.floor(i)%60,h=Math.floor(a)%60,p=Math.floor(l);p>=1&&!this.showSummaryYears&&(this.showSummaryYears=!0,setTimeout((function(){var e=document.getElementById("days-since-years"),n=0;e.style.setProperty("transform","scale(".concat(n,", ").concat(n,")"));var a=setInterval((function(){n+=.05,e.style.setProperty("transform","scale(".concat(n,", ").concat(n,")")),n>=1&&(t.animate=!0,new u({target:"my-canvas"}).render(),clearInterval(a))}),100)}),0));var g=[r(d),r(f),r(m),r(h),r(p)];return Object.assign(Object.assign({},b),{summary:g})}}]),e}()).\u0275fac=function(e){return new(e||O)(o.Jb(s.D))},O.\u0275cmp=o.Db({type:O,selectors:[["app-days-since"]],inputs:{back:"back"},decls:25,vars:6,consts:[["translucent",""],["color","primary",1,"p1"],["slot","end"],[3,"click"],["fullscreen","","color","light",3,"click"],["id","my-canvas",2,"position","absolute"],["style","margin-top: 80px;",4,"ngIf"],[1,"title"],["style","margin-top: 50px;margin-bottom: 25px;",4,"ngIf"],["style","display: flex; flex-wrap: wrap;justify-content: space-around;",3,"click",4,"ngIf"],["id","days-since-years","style","display: flex; flex-wrap: wrap;justify-content: space-around;",3,"transform",4,"ngIf"],["style","display: flex; flex-wrap: wrap; justify-content: space-around;",4,"ngIf"],["color","primary"],[2,"display","flex","justify-content","space-around"],["name","time-outline"],["name","list-outline"],["name","add-outline"],[2,"margin-top","80px"],[2,"margin-top","50px","margin-bottom","25px"],[2,"position","relative","display","flex","justify-content","center","align-items","center"],["name","heart","color","danger",1,"heart-icon"],[1,"heart-days"],[2,"display","flex","flex-wrap","wrap","justify-content","space-around",3,"click"],["style","width: 50%;",4,"ngFor","ngForOf"],[2,"width","50%"],[4,"ngIf"],["name","heart","color","danger",1,"heart-icon-summary"],[1,"heart-days-summary"],[1,"title",2,"margin","0"],["id","days-since-years",2,"display","flex","flex-wrap","wrap","justify-content","space-around"],[2,"position","relative","display","flex","justify-content","center","align-items","center",3,"click"],[2,"display","flex","flex-wrap","wrap","justify-content","space-around"]],template:function(e,t){1&e&&(o.Ob(0,"ion-header",0),o.Ob(1,"ion-toolbar",1),o.Ob(2,"ion-title"),o.kc(3,"Nombre de jours"),o.Nb(),o.Ob(4,"ion-buttons",2),o.Ob(5,"ion-button",3),o.Wb("click",(function(){return t.goBack()})),o.kc(6,"Revenir"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Kb(7,"br"),o.Ob(8,"ion-content",4),o.Wb("click",(function(){return t.next()})),o.Kb(9,"canvas",5),o.jc(10,d,1,0,"div",6),o.Ob(11,"h2",7),o.kc(12),o.Nb(),o.jc(13,f,7,6,"div",8),o.jc(14,p,2,1,"div",9),o.jc(15,v,2,3,"div",10),o.jc(16,x,2,1,"div",11),o.Nb(),o.Ob(17,"ion-toolbar",12),o.Ob(18,"ion-buttons",13),o.Ob(19,"ion-button",3),o.Wb("click",(function(){return t.applydata()})),o.Kb(20,"ion-icon",14),o.Nb(),o.Ob(21,"ion-button",3),o.Wb("click",(function(){return null})),o.Kb(22,"ion-icon",15),o.Nb(),o.Ob(23,"ion-button",3),o.Wb("click",(function(e){return t.add(e)})),o.Kb(24,"ion-icon",16),o.Nb(),o.Nb(),o.Nb()),2&e&&(o.zb(10),o.bc("ngIf","summary"!==t._current||!t.showSummaryYears),o.zb(2),o.lc(t.title),o.zb(1),o.bc("ngIf","summary"!==t._current),o.zb(1),o.bc("ngIf","summary"===t._current),o.zb(1),o.bc("ngIf","summary"===t._current&&t.showSummaryYears),o.zb(1),o.bc("ngIf","summary"===t._current))},directives:[s.n,s.y,s.x,s.c,s.b,s.i,b.i,s.o,b.h],styles:[".heart-icon[_ngcontent-%COMP%]{font-size:350px;text-align:center;margin:0}.heart-days[_ngcontent-%COMP%]{color:#fff;font-size:50px;position:absolute;top:46%;left:50%;transform:translate(-50%,-46%);text-align:center}.heart-icon-summary[_ngcontent-%COMP%]{font-size:160px;text-align:center;margin:0}.heart-days-summary[_ngcontent-%COMP%]{color:#fff;font-size:30px;position:absolute;top:46%;left:50%;transform:translate(-50%,-46%);text-align:center}.css[_ngcontent-%COMP%]{-webkit-animation-delay:1s;-moz-animation-delay:1s;-ms-animation-delay:1s;-o-animation-delay:1s;animation-dely:1s}.animated[_ngcontent-%COMP%]{-webkit-animation:pulsate 1s ease-in-out infinite alternate;animation:pulsate 1s ease-in-out infinite alternate}@keyframes pulsate{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@-webkit-keyframes pulsate{0%{-webkit-transform:scale(1)}50%{-webkit-transform:scale(1.2)}to{-webkit-transform:scale(1)}}"]}),O)}}]);