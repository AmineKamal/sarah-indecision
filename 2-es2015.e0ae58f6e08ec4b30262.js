(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{mclP:function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var a=n("mrSG");function i(t,e=1){const n=t.toString();return n.length>e?n:new Array(e).fill(0).map(t=>"0").join("")+n}var r=n("fXoL"),o=n("TEn/"),s=n("3Pt+");let c=(()=>{class t{constructor(){}ngOnInit(){}add(){this.title&&this.date&&this.hour&&console.log(this.title,new Date(this.date),new Date(this.hour))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-new-data"]],inputs:{addData:"addData",back:"back",title:"title",date:"date",hour:"hour"},decls:14,vars:3,consts:[["color","light"],["placeholder","Titre",3,"ngModel","ngModelChange"],["value","1990-02-19","placeholder","Select Date",3,"ngModel","ngModelChange"],["display-format","h:mm A","picker-format","h:mm A","value","1990-02-19T00:00Z",3,"ngModel","ngModelChange"],["expand","block",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"ion-content",0),r.Ob(1,"ion-list",0),r.Ob(2,"ion-item"),r.Ob(3,"ion-input",1),r.Wb("ngModelChange",(function(t){return e.title=t})),r.Nb(),r.Nb(),r.Ob(4,"ion-item"),r.Ob(5,"ion-label"),r.kc(6,"Date"),r.Nb(),r.Ob(7,"ion-datetime",2),r.Wb("ngModelChange",(function(t){return e.date=t})),r.Nb(),r.Nb(),r.Ob(8,"ion-item"),r.Ob(9,"ion-label"),r.kc(10,"Heure"),r.Nb(),r.Ob(11,"ion-datetime",3),r.Wb("ngModelChange",(function(t){return e.hour=t})),r.Nb(),r.Nb(),r.Ob(12,"ion-button",4),r.Wb("click",(function(){return e.add()})),r.kc(13,"Ajouter"),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(3),r.bc("ngModel",e.title),r.zb(4),r.bc("ngModel",e.date),r.zb(4),r.bc("ngModel",e.hour))},directives:[o.i,o.v,o.q,o.p,o.F,s.d,s.e,o.u,o.j,o.E,o.b],styles:[""]}),t})();var l=function(t){var e={target:"confetti-holder",max:80,size:1,animate:!0,respawn:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,start_from_edge:!1,width:window.innerWidth,height:window.innerHeight};if(t&&(t.target&&(e.target=t.target),t.max&&(e.max=t.max),t.size&&(e.size=t.size),null!=t.animate&&(e.animate=t.animate),null!=t.respawn&&(e.respawn=t.respawn),t.props&&(e.props=t.props),t.colors&&(e.colors=t.colors),t.clock&&(e.clock=t.clock),null!=t.start_from_edge&&(e.start_from_edge=t.start_from_edge),t.width&&(e.width=t.width),t.height&&(e.height=t.height),null!=t.rotate&&(e.rotate=t.rotate)),"object"!=typeof e.target&&"string"!=typeof e.target)throw new TypeError("The target parameter should be a node or string");if("object"==typeof e.target&&(null===e.target||!e.target instanceof HTMLCanvasElement)||"string"==typeof e.target&&(null===document.getElementById(e.target)||!document.getElementById(e.target)instanceof HTMLCanvasElement))throw new ReferenceError("The target element does not exist or is not a canvas element");var n="object"==typeof e.target?e.target:document.getElementById(e.target),a=n.getContext("2d"),i=[];function r(t,e){t||(t=1);var n=Math.random()*t;return e?Math.floor(n):n}var o=e.props.reduce((function(t,e){return t+(e.weight||1)}),0);function s(t){if(t)switch(a.fillStyle=a.strokeStyle="rgba("+t.color+", "+(t.radius<=3?.4:.8)+")",a.beginPath(),t.prop){case"circle":a.moveTo(t.x,t.y),a.arc(t.x,t.y,t.radius*e.size,0,2*Math.PI,!0),a.fill();break;case"triangle":a.moveTo(t.x,t.y),a.lineTo(t.x+t.angles[0]*e.size,t.y+t.angles[1]*e.size),a.lineTo(t.x+t.angles[2]*e.size,t.y+t.angles[3]*e.size),a.closePath(),a.fill();break;case"line":a.moveTo(t.x,t.y),a.lineTo(t.x+t.line*e.size,t.y+5*t.radius),a.lineWidth=2*e.size,a.stroke();break;case"square":a.save(),a.translate(t.x+15,t.y+5),a.rotate(t.rotation),a.fillRect(-15*e.size,-5*e.size,15*e.size,5*e.size),a.restore();break;case"svg":a.save();var n=new window.Image;n.src=t.src;var i=t.size||15;a.translate(t.x+i/2,t.y+i/2),t.rotate&&a.rotate(t.rotation),a.drawImage(n,-i/2*e.size,-i/2*e.size,i*e.size,i*e.size),a.restore()}}var c=function(){e.animate=!1,clearInterval(e.interval),requestAnimationFrame((function(){a.clearRect(0,0,n.width,n.height);var t=n.width;n.width=1,n.width=t}))};return{render:function(){n.width=e.width,n.height=e.height,i=[];for(var t=0;t<e.max;t++)i.push((void 0,{prop:(l=e.props[function(){for(var t=Math.random()*o,n=0;n<e.props.length;++n){var a=e.props[n].weight||1;if(t<a)return n;t-=a}}()]).type?l.type:l,x:r(e.width),y:e.start_from_edge?e.clock>=0?-10:parseFloat(e.height)+10:r(e.height),src:l.src,radius:r(4)+1,size:l.size,rotate:e.rotate,line:Math.floor(r(65)-30),angles:[r(10,!0)+2,r(10,!0)+2,r(10,!0)+2,r(10,!0)+2],color:e.colors[r(e.colors.length,!0)],rotation:r(360,!0)*Math.PI/180,speed:r(e.clock/7)+e.clock/30}));var l;return requestAnimationFrame((function t(){for(var n in a.clearRect(0,0,e.width,e.height),i)s(i[n]);!function(){for(var t=0;t<e.max;t++){var n=i[t];n&&(e.animate&&(n.y+=n.speed),n.rotate&&(n.rotation+=n.speed/35),(n.speed>=0&&n.y>e.height||n.speed<0&&n.y<0)&&(e.respawn?(i[t]=n,i[t].x=r(e.width,!0),i[t].y=n.speed>=0?-10:parseFloat(e.height)):i[t]=void 0))}i.every((function(t){return void 0===t}))&&c()}(),e.animate&&requestAnimationFrame(t)}))},clear:c}},b=n("ofXK");function d(t,e){1&t&&r.Kb(0,"div",17)}function u(t,e){if(1&t&&(r.Ob(0,"div",18),r.Ob(1,"div",19),r.Kb(2,"ion-icon",20),r.Ob(3,"span",21),r.kc(4),r.Nb(),r.Nb(),r.Ob(5,"h2",7),r.kc(6),r.Nb(),r.Nb()),2&t){const t=r.Yb();r.zb(1),r.Bb("animated",t.animate)("css",t.animate),r.zb(3),r.lc(t.current),r.zb(2),r.lc(t.frenchTerms[t._current])}}function m(t,e){if(1&t&&(r.Ob(0,"div"),r.Ob(1,"div",19),r.Kb(2,"ion-icon",26),r.Ob(3,"span",27),r.kc(4),r.Nb(),r.Nb(),r.Ob(5,"h4",28),r.kc(6),r.Nb(),r.Nb()),2&t){const t=r.Yb(),e=t.$implicit,n=t.index,a=r.Yb(2);r.zb(1),r.Bb("animated",a.animate)("css",a.animate),r.zb(3),r.lc(e),r.zb(2),r.lc(a.frenchTerms[a._current][n])}}function f(t,e){if(1&t&&(r.Mb(0,24),r.jc(1,m,7,6,"div",25),r.Lb()),2&t){const t=e.index;r.zb(1),r.bc("ngIf",t<=1)}}function h(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",22),r.Wb("click",(function(){return r.fc(t),r.Yb().next()})),r.jc(1,f,2,1,"ng-container",23),r.Nb()}if(2&t){const t=r.Yb();r.zb(1),r.bc("ngForOf",t.current)}}function p(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div"),r.Ob(1,"div",30),r.Wb("click",(function(){return r.fc(t),r.Yb(3).next()})),r.Kb(2,"ion-icon",26),r.Ob(3,"span",27),r.kc(4),r.Nb(),r.Nb(),r.Ob(5,"h4",28),r.kc(6),r.Nb(),r.Nb()}if(2&t){const t=r.Yb(),e=t.$implicit,n=t.index,a=r.Yb(2);r.zb(1),r.Bb("animated",a.animate)("css",a.animate),r.zb(3),r.lc(e),r.zb(2),r.lc(a.frenchTerms[a._current][n])}}function g(t,e){if(1&t&&(r.Mb(0,24),r.jc(1,p,7,6,"div",25),r.Lb()),2&t){const t=e.index;r.zb(1),r.bc("ngIf",4===t)}}function y(t,e){if(1&t&&(r.Ob(0,"div",29),r.jc(1,g,2,1,"ng-container",23),r.Nb()),2&t){const t=r.Yb();r.ic("transform",t.animate?"scale(1, 1)":"scale(0,0)"),r.zb(1),r.bc("ngForOf",t.current)}}function v(t,e){if(1&t&&(r.Ob(0,"div"),r.Ob(1,"div",19),r.Kb(2,"ion-icon",26),r.Ob(3,"span",27),r.kc(4),r.Nb(),r.Nb(),r.Ob(5,"h4",28),r.kc(6),r.Nb(),r.Nb()),2&t){const t=r.Yb(),e=t.$implicit,n=t.index,a=r.Yb(2);r.zb(1),r.Bb("animated",a.animate)("css",a.animate),r.zb(3),r.lc(e),r.zb(2),r.lc(a.frenchTerms[a._current][n])}}function w(t,e){if(1&t&&(r.Mb(0,24),r.jc(1,v,7,6,"div",25),r.Lb()),2&t){const t=e.index;r.zb(1),r.bc("ngIf",t>1&&t<4)}}function k(t,e){if(1&t&&(r.Ob(0,"div",31),r.jc(1,w,2,1,"ng-container",23),r.Nb()),2&t){const t=r.Yb();r.zb(1),r.bc("ngForOf",t.current)}}let x=(()=>{class t{constructor(t){this.popoverController=t,this.data=[],this.defaultData={title:"Le temps \xe9coul\xe9 depuis la premi\xe8re fois qu'on s'est rencontr\xe9.",epoch:15817212e5},this.keys=["s","min","h","days","weeks","months","years","summary"],this.currentIndex=7,this._current="summary",this.frenchTerms={s:"Secondes",min:"Minutes",h:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Ann\xe9es",summary:["Jours","Heures","Minutes","Secondes","Ann\xe9es"]},this.animate=!1,this.showSummaryYears=!1}ngOnInit(){this.loadData(),this.applydata(),this.date=this._date,this.interval=setInterval(()=>{this.date=this._date},1e3)}goBack(){return Object(a.a)(this,void 0,void 0,(function*(){clearInterval(this.interval),yield this.back()}))}next(){this.currentIndex=(this.currentIndex+1)%this.keys.length,this._current=this.keys[this.currentIndex]}get current(){const t=this.date[this._current];return Array.isArray(t)?t:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}applydata(t=this.defaultData){this.epoch=t.epoch,this.title=t.title}add(t){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.popoverController.create({component:c,cssClass:"date-popover",event:t,translucent:!1,componentProps:{addData:t=>this.addData(t),back:()=>Object(a.a)(this,void 0,void 0,(function*(){return yield e.dismiss()}))}});return yield e.present()}))}addData(t){this.data.push(t),localStorage.setItem("dateData",JSON.stringify(this.data))}loadData(){const t=localStorage.getItem("dateData");if(!t)return void(this.data=[]);const e=JSON.parse(t);this.data=e&&Array.isArray(e)?e:[]}get _date(){const t=(new Date).getTime()-(this.epoch+864e5),e=t/1e3,n=e/60,a=n/60,r=a/24,o=r/7.01923076,s=o/52,c=(b={ms:t,s:e,min:n,h:a,days:r,weeks:o,years:s,months:12*s},Object.keys(b).forEach(t=>{"number"==typeof b[t]&&(b[t]=Math.floor(b[t]))}),b);var b;const d=Math.floor(r),u=Math.floor(a)%24,m=Math.floor(n)%60,f=Math.floor(e)%60,h=Math.floor(s);h>=1&&!this.showSummaryYears&&(this.showSummaryYears=!0,setTimeout(()=>{const t=document.getElementById("days-since-years");let e=0;t.style.setProperty("transform",`scale(${e}, ${e})`);const n=setInterval(()=>{e+=.05,t.style.setProperty("transform",`scale(${e}, ${e})`),e>=1&&(this.animate=!0,new l({target:"my-canvas"}).render(),clearInterval(n))},100)},0));const p=[i(d),i(u),i(m),i(f),i(h)];return Object.assign(Object.assign({},c),{summary:p})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(o.D))},t.\u0275cmp=r.Db({type:t,selectors:[["app-days-since"]],inputs:{back:"back"},decls:25,vars:6,consts:[["translucent",""],["color","primary",1,"p1"],["slot","end"],[3,"click"],["fullscreen","","color","light",3,"click"],["id","my-canvas",2,"position","absolute"],["style","margin-top: 80px;",4,"ngIf"],[1,"title"],["style","margin-top: 50px;margin-bottom: 25px;",4,"ngIf"],["style","display: flex; flex-wrap: wrap;justify-content: space-around;",3,"click",4,"ngIf"],["id","days-since-years","style","display: flex; flex-wrap: wrap;justify-content: space-around;",3,"transform",4,"ngIf"],["style","display: flex; flex-wrap: wrap; justify-content: space-around;",4,"ngIf"],["color","primary"],[2,"display","flex","justify-content","space-around"],["name","time-outline"],["name","list-outline"],["name","add-outline"],[2,"margin-top","80px"],[2,"margin-top","50px","margin-bottom","25px"],[2,"position","relative","display","flex","justify-content","center","align-items","center"],["name","heart","color","danger",1,"heart-icon"],[1,"heart-days"],[2,"display","flex","flex-wrap","wrap","justify-content","space-around",3,"click"],["style","width: 50%;",4,"ngFor","ngForOf"],[2,"width","50%"],[4,"ngIf"],["name","heart","color","danger",1,"heart-icon-summary"],[1,"heart-days-summary"],[1,"title",2,"margin","0"],["id","days-since-years",2,"display","flex","flex-wrap","wrap","justify-content","space-around"],[2,"position","relative","display","flex","justify-content","center","align-items","center",3,"click"],[2,"display","flex","flex-wrap","wrap","justify-content","space-around"]],template:function(t,e){1&t&&(r.Ob(0,"ion-header",0),r.Ob(1,"ion-toolbar",1),r.Ob(2,"ion-title"),r.kc(3,"Nombre de jours"),r.Nb(),r.Ob(4,"ion-buttons",2),r.Ob(5,"ion-button",3),r.Wb("click",(function(){return e.goBack()})),r.kc(6,"Revenir"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Kb(7,"br"),r.Ob(8,"ion-content",4),r.Wb("click",(function(){return e.next()})),r.Kb(9,"canvas",5),r.jc(10,d,1,0,"div",6),r.Ob(11,"h2",7),r.kc(12),r.Nb(),r.jc(13,u,7,6,"div",8),r.jc(14,h,2,1,"div",9),r.jc(15,y,2,3,"div",10),r.jc(16,k,2,1,"div",11),r.Nb(),r.Ob(17,"ion-toolbar",12),r.Ob(18,"ion-buttons",13),r.Ob(19,"ion-button",3),r.Wb("click",(function(){return e.applydata()})),r.Kb(20,"ion-icon",14),r.Nb(),r.Ob(21,"ion-button",3),r.Wb("click",(function(){return null})),r.Kb(22,"ion-icon",15),r.Nb(),r.Ob(23,"ion-button",3),r.Wb("click",(function(t){return e.add(t)})),r.Kb(24,"ion-icon",16),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(10),r.bc("ngIf","summary"!==e._current||!e.showSummaryYears),r.zb(2),r.lc(e.title),r.zb(1),r.bc("ngIf","summary"!==e._current),r.zb(1),r.bc("ngIf","summary"===e._current),r.zb(1),r.bc("ngIf","summary"===e._current&&e.showSummaryYears),r.zb(1),r.bc("ngIf","summary"===e._current))},directives:[o.n,o.y,o.x,o.c,o.b,o.i,b.i,o.o,b.h],styles:[".heart-icon[_ngcontent-%COMP%]{font-size:350px;text-align:center;margin:0}.heart-days[_ngcontent-%COMP%]{color:#fff;font-size:50px;position:absolute;top:46%;left:50%;transform:translate(-50%,-46%);text-align:center}.heart-icon-summary[_ngcontent-%COMP%]{font-size:160px;text-align:center;margin:0}.heart-days-summary[_ngcontent-%COMP%]{color:#fff;font-size:30px;position:absolute;top:46%;left:50%;transform:translate(-50%,-46%);text-align:center}.css[_ngcontent-%COMP%]{-webkit-animation-delay:1s;-moz-animation-delay:1s;-ms-animation-delay:1s;-o-animation-delay:1s;animation-dely:1s}.animated[_ngcontent-%COMP%]{-webkit-animation:pulsate 1s ease-in-out infinite alternate;animation:pulsate 1s ease-in-out infinite alternate}@keyframes pulsate{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@-webkit-keyframes pulsate{0%{-webkit-transform:scale(1)}50%{-webkit-transform:scale(1.2)}to{-webkit-transform:scale(1)}}"]}),t})()}}]);